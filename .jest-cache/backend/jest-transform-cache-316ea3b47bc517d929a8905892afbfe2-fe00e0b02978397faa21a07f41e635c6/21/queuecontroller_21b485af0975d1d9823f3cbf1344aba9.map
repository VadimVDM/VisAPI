{"file":"/Users/vadim/Projects/VisAPI/apps/backend/src/queue/queue.controller.ts","mappings":";;;;;AAAA,2CAA4D;AAC5D,mDAA+C;AAC/C,gEAA2D;AAC3D,0EAA6D;AAC7D,6CAKyB;AAIlB,IAAM,eAAe,GAArB,MAAM,eAAe;IAC1B,YAA6B,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAAG,CAAC;IAQrD,UAAU;;YACd,OAAO,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,CAAC;QAC7C,CAAC;KAAA;CACF,CAAA;AAZY,0CAAe;AASpB;IANL,IAAA,YAAG,EAAC,SAAS,CAAC;IACd,IAAA,kBAAS,EAAC,2BAAW,CAAC;IACtB,IAAA,yBAAM,EAAC,aAAa,CAAC;IACrB,IAAA,sBAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,IAAA,qBAAW,EAAC,SAAS,CAAC;IACtB,IAAA,qBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;;;;iDAGlE;0BAXU,eAAe;IAF3B,IAAA,iBAAO,EAAC,OAAO,CAAC;IAChB,IAAA,mBAAU,EAAC,cAAc,CAAC;iEAEkB,4BAAY,oBAAZ,4BAAY;GAD5C,eAAe,CAY3B","names":[],"sources":["/Users/vadim/Projects/VisAPI/apps/backend/src/queue/queue.controller.ts"],"sourcesContent":["import { Controller, Get, UseGuards } from '@nestjs/common';\nimport { QueueService } from './queue.service';\nimport { ApiKeyGuard } from '../auth/guards/api-key.guard';\nimport { Scopes } from '../auth/decorators/scopes.decorator';\nimport {\n  ApiTags,\n  ApiOperation,\n  ApiResponse,\n  ApiSecurity,\n} from '@nestjs/swagger';\n\n@ApiTags('Queue')\n@Controller('api/v1/queue')\nexport class QueueController {\n  constructor(private readonly queueService: QueueService) {}\n\n  @Get('metrics')\n  @UseGuards(ApiKeyGuard)\n  @Scopes('queues:read')\n  @ApiOperation({ summary: 'Get queue metrics' })\n  @ApiSecurity('api-key')\n  @ApiResponse({ status: 200, description: 'Returns queue metrics' })\n  async getMetrics() {\n    return this.queueService.getQueueMetrics();\n  }\n}\n"],"version":3}