{"file":"/Users/vadim/Projects/VisAPI/apps/backend/src/health/health.controller.ts","mappings":";;;;;AAAA,2CAAiD;AACjD,+CAI0B;AAC1B,kEAAuE;AACvE,4DAAiE;AAG1D,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;IAC3B,YACU,MAA0B,EAC1B,cAAuC,EACvC,WAAiC;QAFjC,WAAM,GAAN,MAAM,CAAoB;QAC1B,mBAAc,GAAd,cAAc,CAAyB;QACvC,gBAAW,GAAX,WAAW,CAAsB;IACxC,CAAC;IAIJ,KAAK;QACH,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;YACvB,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,UAAU,CAAC;YAC/C,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,CAAC;SAC1C,CAAC,CAAC;IACL,CAAC;IAGD,QAAQ;QACN,OAAO;YACL,MAAM,EAAE,IAAI;YACZ,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;SACpC,CAAC;IACJ,CAAC;CACF,CAAA;AAvBY,4CAAgB;AAS3B;IAFC,IAAA,YAAG,GAAE;IACL,IAAA,sBAAW,GAAE;;;gEACL,OAAO,oBAAP,OAAO;6CAKf;AAGD;IADC,IAAA,YAAG,EAAC,UAAU,CAAC;;;;gDAMf;2BAtBU,gBAAgB;IAD5B,IAAA,mBAAU,EAAC,QAAQ,CAAC;iEAGD,6BAAkB,oBAAlB,6BAAkB,oDACV,yCAAuB,oBAAvB,yCAAuB,oDAC1B,mCAAoB,oBAApB,mCAAoB;GAJhC,gBAAgB,CAuB5B","names":[],"sources":["/Users/vadim/Projects/VisAPI/apps/backend/src/health/health.controller.ts"],"sourcesContent":["import { Controller, Get } from '@nestjs/common';\nimport {\n  HealthCheck,\n  HealthCheckService,\n  HealthCheckResult,\n} from '@nestjs/terminus';\nimport { SupabaseHealthIndicator } from './indicators/supabase.health';\nimport { RedisHealthIndicator } from './indicators/redis.health';\n\n@Controller('health')\nexport class HealthController {\n  constructor(\n    private health: HealthCheckService,\n    private supabaseHealth: SupabaseHealthIndicator,\n    private redisHealth: RedisHealthIndicator\n  ) {}\n\n  @Get()\n  @HealthCheck()\n  check(): Promise<HealthCheckResult> {\n    return this.health.check([\n      () => this.supabaseHealth.isHealthy('database'),\n      () => this.redisHealth.isHealthy('redis'),\n    ]);\n  }\n\n  @Get('liveness')\n  liveness() {\n    return {\n      status: 'ok',\n      timestamp: new Date().toISOString(),\n    };\n  }\n}\n"],"version":3}