# =============================================================================
# LOCAL DEVELOPMENT ENVIRONMENT VARIABLES (EXAMPLE)
# =============================================================================
# Instructions:
# 1. Copy this file to .env.local
# 2. Replace all placeholder values with your actual values
# 3. Run: pnpm dev
#
# For production deployments, see:
# - Frontend (Vercel): .env.frontend.example
# - Backend (Render): .env.backend.example
# =============================================================================

# =============================================================================
# FRONTEND VARIABLES (Next.js - localhost:3001)
# =============================================================================

# API Backend URL (local development server)
NEXT_PUBLIC_API_URL=http://localhost:3000

# Environment Mode
# Options: development | production
NEXT_PUBLIC_ENV=development

# Supabase Client Configuration (Public Keys - Safe for Frontend)
# Get from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://[your-project-ref].supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# =============================================================================
# BACKEND VARIABLES (NestJS - localhost:3000)
# =============================================================================

# Node Environment
NODE_ENV=development
PORT=3000

# =============================================================================
# DATABASE & STORAGE
# =============================================================================

# PostgreSQL Database (Local Docker)
# Default for local development with Docker Compose
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/visapi_dev

# Redis Queue (Local Docker)
# Default for local development with Docker Compose
REDIS_URL=redis://localhost:6379

# Supabase Backend Configuration
# Get from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
SUPABASE_URL=https://[your-project-ref].supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here_keep_secret
SUPABASE_STORAGE_BUCKET=visapi-files

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# JWT & Session Security (Generate strong random strings)
# Generate with: openssl rand -base64 48
JWT_SECRET=your_jwt_secret_at_least_32_characters_change_this
SESSION_SECRET=your_session_secret_at_least_32_characters_change_this
CRON_SECRET=your_cron_secret_at_least_32_characters_change_this

# CORS Configuration (multiple origins for local dev)
CORS_ORIGIN=http://localhost:3001,https://app.visanet.app

# API Key Configuration
API_KEY_PREFIX=visapi_
API_KEY_EXPIRY_DAYS=90

# Allowed Email Domains for Magic Link Auth (comma-separated)
ALLOWED_EMAIL_DOMAINS=visanet.app,yourdomain.com

# =============================================================================
# RATE LIMITING & PERFORMANCE
# =============================================================================

# API Rate Limiting
API_RATE_LIMIT_BURST=200
API_RATE_LIMIT_SUSTAINED=2

# Queue Configuration
QUEUE_CONCURRENCY=10
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_DELAY=5000

# =============================================================================
# INTEGRATIONS
# =============================================================================

# ChatGPT Builder WhatsApp API
# Get from: https://app.chatgptbuilder.io/dashboard
CGB_API_URL=https://app.chatgptbuilder.io/api
CGB_API_KEY=your_cgb_api_key_here
CGB_TIMEOUT=30000
CGB_RETRY_ATTEMPTS=3
CGB_CACHE_TIMEOUT=3600

# Email Service (Resend)
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_YOUR_RESEND_API_KEY_HERE
NOREPLY_EMAIL=noreply@yourdomain.com

# PDF Generation (Puppeteer)
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true
PDF_TIMEOUT=30000
PDF_MAX_PAGES=50

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Logging Configuration
# Options: error | warn | info | debug
LOG_LEVEL=debug
LOG_FORMAT=json

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Development Seeds (Change these!)
SEED_ADMIN_EMAIL=admin@yourdomain.com
SEED_ADMIN_PASSWORD=change_this_strong_password_immediately

# Debug Flags
DEBUG_SQL=false
DEBUG_REDIS=false
DEBUG_WEBHOOKS=false

# Mock Services (for testing)
MOCK_SLACK=false
MOCK_TWILIO=false
MOCK_SUPABASE=false

# =============================================================================
# OPTIONAL: FEATURE FLAGS
# =============================================================================

FEATURE_SLACK_INTEGRATION=true
FEATURE_WHATSAPP_INTEGRATION=true
FEATURE_PDF_GENERATION=true
FEATURE_IMAGE_PROCESSING=true
FEATURE_CRON_SCHEDULER=true
FEATURE_AUDIT_LOGGING=true

# =============================================================================
# OPTIONAL: FUTURE INTEGRATIONS (Not yet implemented)
# =============================================================================

# Stripe Payments
# STRIPE_SECRET_KEY=sk_test_YOUR_STRIPE_SECRET_KEY
# STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET
# PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_PUBLISHABLE_KEY

# Slack Notifications
# SLACK_BOT_TOKEN=xoxb-YOUR-SLACK-BOT-TOKEN
# SLACK_SIGNING_SECRET=your_slack_signing_secret

# Sentry Error Tracking
# SENTRY_DSN=https://your-key@sentry.io/project-id

# Prometheus Metrics
# PROMETHEUS_ENABLED=true
# PROMETHEUS_PORT=9090

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit .env.local or any file with real credentials
# 2. Use strong, unique passwords for all secrets
# 3. Rotate API keys and secrets regularly
# 4. Different values for development vs production
# 5. See .env.README.md for complete documentation