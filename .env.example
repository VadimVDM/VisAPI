# VisAPI Environment Configuration Example
# Copy this file to .env.local and update with your values

# Node Environment
NODE_ENV=development

# Database (Supabase)
DATABASE_URL=postgresql://postgres:[password]@[host]:[port]/postgres
SUPABASE_URL=https://[project-id].supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Redis (Local Docker or Upstash for production)
REDIS_URL=redis://localhost:6379
# For Upstash (production): REDIS_URL=rediss://default:[password]@[host]:[port]

# Authentication
JWT_SECRET=your_jwt_secret_here

# API Configuration
API_PORT=3000
CORS_ORIGIN=http://localhost:3001

# Frontend Configuration
NEXT_PUBLIC_API_URL=http://localhost:3000
NEXT_PUBLIC_SUPABASE_URL=https://[project-id].supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here

# Email Configuration
ALLOWED_EMAIL_DOMAINS=visanet.app,yourdomain.com

# ChatGPT Builder (CGB) WhatsApp Configuration
CGB_API_KEY=your_cgb_api_key_here
CGB_API_URL=https://api.cgb.ai/v1
CGB_PHONE_NUMBER_ID=your_phone_number_id_here
CGB_DEFAULT_CONTACT_ID=default_contact_id_here
# Optional template mappings (JSON format)
# CGB_TEMPLATE_MAPPINGS={"visa_approved":"flow_id_here","payment_receipt":"template_id_here"}

# PDF Generation Configuration
# Skip Chromium download during build (use system Chrome)
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true
# Optional: Specify Chrome executable path
# PUPPETEER_EXECUTABLE_PATH=/usr/bin/google-chrome-stable

# Worker Configuration
WORKER_CONCURRENCY=2
QUEUE_REMOVE_ON_COMPLETE=100
QUEUE_REMOVE_ON_FAIL=500

# Monitoring (Optional)
PROMETHEUS_ENABLED=false
GRAFANA_ENDPOINT=

# Development Tools
ENABLE_SWAGGER=true
LOG_LEVEL=debug